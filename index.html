<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KABAL ‚Äì Trouve ta S√©phira</title>
  <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cormorant Garamond', serif;
      background-color: #ffffff;
      color: #333333;
      margin: 0;
      padding: 0;
    }
    #quiz-container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    header {
      text-align: center;
      padding: 20px;
    }
    header img {
      width: 100px;
      margin-bottom: 10px;
    }
    h1 {
      color: #FFD700;
      margin-bottom: 0.5em;
    }
    .legend {
      font-size: 0.9em;
      margin-bottom: 1em;
      text-align: center;
      color: #555555;
    }
    .page { display: none; }
    .page.active { display: block; }
    .question { margin-bottom: 1.5em; }
    .question p {
      font-size: 1.1em;
      margin-bottom: 0.5em;
    }
    .options {
      display: flex;
      justify-content: space-between;
      max-width: 400px;
      margin: 0.5em auto;
    }
    label {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      font-size: 0.9em;
      color: #555;
    }
    input[type="radio"] { display: none; }
    .circle {
      display: inline-block;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      margin-bottom: 0.3em;
      border: 2px solid #888;
    }
    .dark-red { background-color: #C51C1C; border-color: #800000; }
    .light-red { background-color: #F08080; border-color: #D2691E; }
    .neutral   { background-color: #CCCCCC; border-color: #888888; }
    .light-green { background-color: #90EE90; border-color: #228B22; }
    .dark-green { background-color: #006400; border-color: #004d00; }
    button {
      background-color: #FFD700;
      border: none;
      color: white;
      padding: 10px 20px;
      margin: 10px 5px;
      font-size: 1em;
      cursor: pointer;
      border-radius: 5px;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .navigation {
      text-align: center;
      margin-top: 20px;
    }
    .dob-container {
      text-align: center;
      margin: 20px 0;
    }
    .dob-container label {
      font-weight: bold;
      display: block;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>

  <header>
    <img src="logo-kabal.png" alt="KABAL logo" />
    <h1>Trouve ta S√©phira dominante</h1>
  </header>

  <div class="dob-container">
    <label for="dob">üìÖ Ta date de naissance :</label>
    <input type="date" id="dob" />
  </div>

  <div id="quiz-container"></div>

  <script>
    const questions = /* place ici tes questions JSON comme dans ton script actuel (inchang√©es) */;
    // ... m√™me logique que ta fonction actuelle (shuffle, analyse, etc.)

    // Lors du calcul des r√©sultats :
    function analyse() {
      const dob = document.getElementById("dob").value;
      const birthMonth = dob ? new Date(dob).getMonth() + 1 : null;

      const hebrewMonthToSephira = {
        1: "Netzach", 2: "Hod", 3: "Tiferet",
        4: "Guevoura", 5: "Hod", 6: "Yesod",
        7: "Malkhout", 8: "Binah", 9: "Hokhmah",
        10: "Guevoura", 11: "Hessed", 12: "Tiferet"
      };

      const sephirot = {
        "Daat": 0, "Hokhmah": 0, "Binah": 0,
        "Hessed": 0, "Guevoura": 0, "Tiferet": 0,
        "Hod": 0, "Netzach": 0, "Yesod": 0, "Malkhout": 0
      };

      for (let i = 1; i <= questions.length; i++) {
        const radios = document.getElementsByName("q" + i);
        let val = 0;
        for (const r of radios) if (r.checked) val = parseInt(r.value);
        const weights = questions[i - 1].weights;
        for (const s in weights) {
          sephirot[s] += weights[s] * val;
        }
      }

      // Ajout du bonus date de naissance
      if (birthMonth && hebrewMonthToSephira[birthMonth]) {
        const bonusSefira = hebrewMonthToSephira[birthMonth];
        sephirot[bonusSefira] += 2; // pond√©ration fixe
      }

      const sorted = Object.keys(sephirot).sort((a, b) => sephirot[b] - sephirot[a]);

      alert("üîÆ Ta S√©phira dominante : " + sorted[0] +
            "\nSuivantes : " + sorted[1] + " et " + sorted[2]);
    }

    // Appelle ta fonction buildQuiz() ici comme avant
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Questionnaire Psychospirituel par S√©phira</title>
<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Cormorant Garamond', serif;
    background-color: #ffffff;
    color: #333333;
    margin: 0;
    padding: 0;
}
#quiz-container {
    max-width: 800px;
    margin: auto;
    padding: 20px;
}
h1 {
    text-align: center;
    color: #FFD700;
    margin-bottom: 1em;
}
.legend {
    font-size: 0.9em;
    margin-bottom: 1em;
    text-align: center;
    color: #555555;
}
.page {
    display: none;
}
.page.active {
    display: block;
}
.question {
    margin-bottom: 1.5em;
}
.question p {
    font-size: 1.1em;
    margin: 0 0 0.5em 0;
}
.options {
    display: flex;
    justify-content: space-between;
    max-width: 400px;
    margin: 0.5em 0;
}
label {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    font-size: 0.9em;
    color: #555;
}
input[type="radio"] {
    display: none;
}
.circle {
    display: inline-block;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-bottom: 0.3em;
    border: 2px solid #888;
}
.dark-red { background-color: #C51C1C; border-color: #800000; }
.light-red { background-color: #F08080; border-color: #D2691E; }
.neutral   { background-color: #CCCCCC; border-color: #888888; }
.light-green { background-color: #90EE90; border-color: #228B22; }
.dark-green { background-color: #006400; border-color: #004d00; }
button {
    background-color: #FFD700;
    border: none;
    color: #ffffff;
    padding: 10px 20px;
    margin: 10px 5px;
    font-size: 1em;
    cursor: pointer;
    border-radius: 5px;
}
button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}
.navigation {
    text-align: center;
    margin-top: 20px;
}
</style>
</head>
<body>

<h1>Questionnaire Psychospirituel par S√©phira</h1>
<div id="quiz-container"></div>

<script>
// Donn√©es des questions (texte exact et pond√©rations par S√©phira)
var questions = [
    {"text":"Je cherche √† faire le lien entre mes connaissances intellectuelles et mes √©motions pour que mon savoir soit coh√©rent et incarn√©.","weights":{"Daat":0.8,"Tiferet":0.2}},
    {"text":"Quand j‚Äôapprends quelque chose de nouveau, j‚Äôessaie de l‚Äôint√©grer concr√®tement dans ma vie plut√¥t que de rester sur le plan th√©orique.","weights":{"Daat":0.8}},
    {"text":"Je valorise la coh√©rence int√©rieure et j‚Äôharmonise mes id√©es contradictoires pour parvenir √† une compr√©hension unifi√©e.","weights":{"Daat":0.8}},
    {"text":"Je fais souvent l‚Äôexp√©rience d‚Äôune intuition soudaine qui √©claire d‚Äôembl√©e une situation complexe.","weights":{"Hokhmah":0.8}},
    {"text":"Je reconnais humblement mes limites intellectuelles et reste ouvert(e) aux id√©es qui d√©passent ma compr√©hension.","weights":{"Hokhmah":0.7}},
    {"text":"Je sais rester curieux(se) et ouvert(e) : je ne cherche pas √† prouver que j‚Äôai toujours raison, mais j‚Äôaccueille les enseignements ext√©rieurs avec humilit√©.","weights":{"Hokhmah":0.7}},
    {"text":"Je prends le temps de r√©fl√©chir en profondeur avant de prendre une d√©cision importante, faisant preuve de patience.","weights":{"Binah":0.8}},
    {"text":"Je r√©fl√©chis aux d√©tails et j‚Äôassemble les √©l√©ments d‚Äôune situation pour en saisir l‚Äôensemble.","weights":{"Binah":0.7}},
    {"text":"Je fais preuve d‚Äôempathie : j‚Äôessaie vraiment de comprendre en profondeur ce que ressentent les autres.","weights":{"Binah":0.8}},
    {"text":"Je me sens pouss√©(e) √† faire le bien m√™me quand personne ne regarde.","weights":{"Hessed":1.0}},
    {"text":"J‚Äôai du mal √† dire non lorsque l‚Äôon me sollicite, m√™me si je sais que cela va √† l‚Äôencontre de mes besoins.","weights":{"Hessed":0.8,"Guevoura":0.2}},
    {"text":"Je pardonne facilement les erreurs des autres et essaie toujours de voir leur bon c√¥t√©.","weights":{"Hessed":0.8}},
    {"text":"Je sais dire ‚Äúnon‚Äù et imposer des limites claires lorsque c‚Äôest n√©cessaire, sans h√©sitation.","weights":{"Guevoura":1.0}},
    {"text":"Je crois qu‚Äôil faut parfois d√©fendre la justice avec fermet√©, m√™me si cela peut blesser ou d√©plaire.","weights":{"Guevoura":0.8}},
    {"text":"Je trouve de la force √† maintenir l‚Äôordre et la structure pour prot√©ger ce qui est juste.","weights":{"Guevoura":0.8}},
    {"text":"J‚Äôessaie d‚Äô√©quilibrer mes √©lans de bont√© avec mon sens de la justice pour agir avec compassion.","weights":{"Tiferet":0.8}},
    {"text":"Je cherche √† r√©concilier des points de vue divergents en trouvant un compromis √©quitable pour tous.","weights":{"Tiferet":0.7}},
    {"text":"J‚Äôaime apporter de l‚Äôharmonie autour de moi en agissant avec empathie, sinc√©rit√© et droiture.","weights":{"Tiferet":0.7}},
    {"text":"Je choisis mes mots avec soin pour √™tre clair(e) et je valorise l‚Äôhonn√™tet√© intellectuelle dans mes √©changes.","weights":{"Hod":0.8}},
    {"text":"Je reconnais facilement mes erreurs et j‚Äôexprime ma gratitude quand on m‚Äôapprend quelque chose de nouveau.","weights":{"Hod":0.7}},
    {"text":"Je fais preuve d‚Äôhumilit√© dans mes opinions et je structure mes id√©es avant de les exprimer.","weights":{"Hod":0.7}},
    {"text":"Je pers√©v√®re dans mes projets jusqu‚Äô√† leur aboutissement, m√™me si les progr√®s sont lents.","weights":{"Netzach":0.9}},
    {"text":"Je puise en moi la patience et le courage n√©cessaires pour surmonter les obstacles.","weights":{"Netzach":0.8}},
    {"text":"Je me sens fier(√®re) lorsque je m√®ne quelque chose √† terme gr√¢ce √† ma d√©termination constante.","weights":{"Netzach":0.7}},
    {"text":"Je m‚Äôefforce de faire correspondre mes actions √† mes paroles : l‚Äôint√©grit√© est essentielle pour moi.","weights":{"Yesod":0.8}},
    {"text":"Je b√¢tis patiemment mes projets de mani√®re structur√©e plut√¥t que de r√™ver sans les r√©aliser.","weights":{"Yesod":0.7}},
    {"text":"Je reste sinc√®re et fiable en toutes circonstances, car je crois que c‚Äôest le fondement de toute relation solide.","weights":{"Yesod":0.7}},
    {"text":"Je ressens la pr√©sence du divin dans les d√©tails de ma vie quotidienne et je cultive un espace de paix chez moi.","weights":{"Malkhout":0.8}},
    {"text":"J‚Äôessaie d‚Äôincarner mes id√©aux spirituels dans ma vie de tous les jours, en √©tant humble et d√©vou√©(e) dans mes actions.","weights":{"Malkhout":0.7}},
    {"text":"Je trouve du sacr√© dans la simplicit√© des choses ordinaires et je rends gr√¢ce pour ce que j‚Äôai.","weights":{"Malkhout":0.7}}
];

// Fonction pour m√©langer les questions
function shuffle(array) {
    for (var i = array.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
}

// Construction du questionnaire
function buildQuiz() {
    shuffle(questions);
    var container = document.getElementById("quiz-container");
    // L√©gende de l'√©chelle (page 1 seulement)
    var legend = document.createElement("p");
    legend.className = "legend";
    legend.textContent = "Rouge fonc√© = Totalement en d√©saccord (-2), Rouge clair = Plut√¥t pas d‚Äôaccord (-1), Gris = Neutre (0), Vert clair = Plut√¥t d‚Äôaccord (+1), Vert fonc√© = Totalement d‚Äôaccord (+2).";
    container.appendChild(legend);
    var qIndex = 1;
    for (var p = 1; p <= 5; p++) {
        var pageDiv = document.createElement("div");
        pageDiv.className = "page";
        pageDiv.id = "page-" + p;
        // Questions par page
        for (var k = 0; k < 6; k++) {
            var q = questions[(p-1)*6 + k];
            if (!q) break;
            var qDiv = document.createElement("div");
            qDiv.className = "question";
            var pQ = document.createElement("p");
            pQ.textContent = qIndex + ". " + q.text;
            qDiv.appendChild(pQ);
            // Options
            var optDiv = document.createElement("div");
            optDiv.className = "options";
            var values = [
                {val:-2, cls:"dark-red", label:"Totalement en d√©saccord"},
                {val:-1, cls:"light-red", label:"Plut√¥t pas d‚Äôaccord"},
                {val:0, cls:"neutral", label:"Neutre"},
                {val:1, cls:"light-green", label:"Plut√¥t d‚Äôaccord"},
                {val:2, cls:"dark-green", label:"Totalement d‚Äôaccord"}
            ];
            for (var i = 0; i < values.length; i++) {
                var lbl = document.createElement("label");
                var radio = document.createElement("input");
                radio.type = "radio";
                radio.name = "q" + qIndex;
                radio.value = values[i].val;
                var span = document.createElement("span");
                span.className = "circle " + values[i].cls;
                span.title = values[i].label;
                lbl.appendChild(radio);
                lbl.appendChild(span);
                optDiv.appendChild(lbl);
            }
            qDiv.appendChild(optDiv);
            pageDiv.appendChild(qDiv);
            qIndex++;
        }
        // Navigation
        var navDiv = document.createElement("div");
        navDiv.className = "navigation";
        if (p > 1) {
            var prevBtn = document.createElement("button");
            prevBtn.textContent = "Page pr√©c√©dente";
            prevBtn.onclick = prevPage;
            navDiv.appendChild(prevBtn);
        }
        if (p < 5) {
            var nextBtn = document.createElement("button");
            nextBtn.textContent = "Page suivante";
            nextBtn.onclick = nextPage;
            navDiv.appendChild(nextBtn);
        }
        if (p == 5) {
            var analyseBtn = document.createElement("button");
            analyseBtn.textContent = "Analyser";
            analyseBtn.onclick = analyse;
            navDiv.appendChild(analyseBtn);
        }
        pageDiv.appendChild(navDiv);
        container.appendChild(pageDiv);
    }
    // Afficher la premi√®re page
    showPage(1);
}

// Affichage des pages
var currentPage = 1;
function showPage(n) {
    var pages = document.getElementsByClassName("page");
    for (var i = 0; i < pages.length; i++) {
        pages[i].classList.remove("active");
    }
    var page = document.getElementById("page-" + n);
    if (page) {
        page.classList.add("active");
        currentPage = n;
    }
}

// Changer de page
function nextPage() { showPage(currentPage + 1); }
function prevPage() { showPage(currentPage - 1); }

// Calcul et analyse des r√©sultats
function analyse() {
    var sephirot = {
        "Daat": 0, "Hokhmah": 0, "Binah": 0,
        "Hessed": 0, "Guevoura": 0, "Tiferet": 0,
        "Hod": 0, "Netzach": 0, "Yesod": 0, "Malkhout": 0
    };
    // Parcourir les r√©ponses
    for (var i = 1; i <= questions.length; i++) {
        var radios = document.getElementsByName("q" + i);
        var val = null;
        for (var r = 0; r < radios.length; r++) {
            if (radios[r].checked) {
                val = parseInt(radios[r].value);
                break;
            }
        }
        if (val === null) {
            val = 0; // si non r√©pondu, on consid√®re neutre
        }
        // Ajouter pond√©rations
        var weights = questions[i-1].weights;
        for (var s in weights) {
            if (weights.hasOwnProperty(s)) {
                sephirot[s] += weights[s] * val;
            }
        }
    }
    // Trier par score d√©croissant
    var sorted = Object.keys(sephirot).sort(function(a, b) {
        return sephirot[b] - sephirot[a];
    });
    // Afficher r√©sultats
    var resultText = "S√©phira dominante : " + sorted[0] +
                     " ; suivantes : " + sorted[1] + " et " + sorted[2] + ".";
    alert(resultText);
}

document.addEventListener("DOMContentLoaded", buildQuiz);
</script>



</body>
</html>

