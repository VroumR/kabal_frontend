<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KABAL â€“ Trouve ta SÃ©phira</title>
  <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cormorant Garamond', serif;
      background-color: #ffffff;
      color: #333333;
      margin: 0;
      padding: 0;
    }
    #quiz-container {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    header {
      text-align: center;
      padding: 20px;
    }
    header img {
      width: 100px;
      margin-bottom: 10px;
    }
    h1 {
      color: #FFD700;
      margin-bottom: 0.5em;
    }
    .legend {
      font-size: 0.9em;
      margin-bottom: 1em;
      text-align: center;
      color: #555555;
    }
    .page { display: none; }
    .page.active { display: block; }
    .question { margin-bottom: 1.5em; }
    .question p {
      font-size: 1.1em;
      margin-bottom: 0.5em;
    }
    .options {
      display: flex;
      justify-content: space-between;
      max-width: 400px;
      margin: 0.5em auto;
    }
    label {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      font-size: 0.9em;
      color: #555;
    }
    input[type="radio"] { display: none; }
    .circle {
      display: inline-block;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      margin-bottom: 0.3em;
      border: 2px solid #888;
    }
    .dark-red { background-color: #C51C1C; border-color: #800000; }
    .light-red { background-color: #F08080; border-color: #D2691E; }
    .neutral   { background-color: #CCCCCC; border-color: #888888; }
    .light-green { background-color: #90EE90; border-color: #228B22; }
    .dark-green { background-color: #006400; border-color: #004d00; }
    button {
      background-color: #FFD700;
      border: none;
      color: white;
      padding: 10px 20px;
      margin: 10px 5px;
      font-size: 1em;
      cursor: pointer;
      border-radius: 5px;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .navigation {
      text-align: center;
      margin-top: 20px;
    }
    .dob-container {
      text-align: center;
      margin: 20px 0;
    }
    .dob-container label {
      font-weight: bold;
      display: block;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>

  <header>
    <img src="logo-kabal.png" alt="KABAL logo" />
    <h1>Trouve ta SÃ©phira dominante</h1>
  </header>

  <div class="dob-container">
    <label for="dob">ðŸ“… Ta date de naissance :</label>
    <input type="date" id="dob" />
  </div>

  <div id="quiz-container"></div>

  <script>
    const questions = /* place ici tes questions JSON comme dans ton script actuel (inchangÃ©es) */;
    // ... mÃªme logique que ta fonction actuelle (shuffle, analyse, etc.)

    // Lors du calcul des rÃ©sultats :
    function analyse() {
      const dob = document.getElementById("dob").value;
      const birthMonth = dob ? new Date(dob).getMonth() + 1 : null;

      const hebrewMonthToSephira = {
        1: "Netzach", 2: "Hod", 3: "Tiferet",
        4: "Guevoura", 5: "Hod", 6: "Yesod",
        7: "Malkhout", 8: "Binah", 9: "Hokhmah",
        10: "Guevoura", 11: "Hessed", 12: "Tiferet"
      };

      const sephirot = {
        "Daat": 0, "Hokhmah": 0, "Binah": 0,
        "Hessed": 0, "Guevoura": 0, "Tiferet": 0,
        "Hod": 0, "Netzach": 0, "Yesod": 0, "Malkhout": 0
      };

      for (let i = 1; i <= questions.length; i++) {
        const radios = document.getElementsByName("q" + i);
        let val = 0;
        for (const r of radios) if (r.checked) val = parseInt(r.value);
        const weights = questions[i - 1].weights;
        for (const s in weights) {
          sephirot[s] += weights[s] * val;
        }
      }

      // Ajout du bonus date de naissance
      if (birthMonth && hebrewMonthToSephira[birthMonth]) {
        const bonusSefira = hebrewMonthToSephira[birthMonth];
        sephirot[bonusSefira] += 2; // pondÃ©ration fixe
      }

      const sorted = Object.keys(sephirot).sort((a, b) => sephirot[b] - sephirot[a]);

      alert("ðŸ”® Ta SÃ©phira dominante : " + sorted[0] +
            "\nSuivantes : " + sorted[1] + " et " + sorted[2]);
    }

    // Appelle ta fonction buildQuiz() ici comme avant
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Questionnaire Psychospirituel par SÃ©phira</title>
<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Cormorant Garamond', serif;
    background-color: #ffffff;
    color: #333333;
    margin: 0;
    padding: 0;
}
#quiz-container {
    max-width: 800px;
    margin: auto;
    padding: 20px;
}
h1 {
    text-align: center;
    color: #FFD700;
    margin-bottom: 1em;
}
.legend {
    font-size: 0.9em;
    margin-bottom: 1em;
    text-align: center;
    color: #555555;
}
.page {
    display: none;
}
.page.active {
    display: block;
}
.question {
    margin-bottom: 1.5em;
}
.question p {
    font-size: 1.1em;
    margin: 0 0 0.5em 0;
}
.options {
    display: flex;
    justify-content: space-between;
    max-width: 400px;
    margin: 0.5em 0;
}
label {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    font-size: 0.9em;
    color: #555;
}
input[type="radio"] {
    display: none;
}
.circle {
    display: inline-block;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-bottom: 0.3em;
    border: 2px solid #888;
}
.dark-red { background-color: #C51C1C; border-color: #800000; }
.light-red { background-color: #F08080; border-color: #D2691E; }
.neutral   { background-color: #CCCCCC; border-color: #888888; }
.light-green { background-color: #90EE90; border-color: #228B22; }
.dark-green { background-color: #006400; border-color: #004d00; }
button {
    background-color: #FFD700;
    border: none;
    color: #ffffff;
    padding: 10px 20px;
    margin: 10px 5px;
    font-size: 1em;
    cursor: pointer;
    border-radius: 5px;
}
button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}
.navigation {
    text-align: center;
    margin-top: 20px;
}
</style>
</head>
<body>

<h1>Questionnaire Psychospirituel par SÃ©phira</h1>
<div id="quiz-container"></div>

<script>
// DonnÃ©es des questions (texte exact et pondÃ©rations par SÃ©phira)
var questions = [
    {"text":"Je cherche Ã  faire le lien entre mes connaissances intellectuelles et mes Ã©motions pour que mon savoir soit cohÃ©rent et incarnÃ©.","weights":{"Daat":0.8,"Tiferet":0.2}},
    {"text":"Quand jâ€™apprends quelque chose de nouveau, jâ€™essaie de lâ€™intÃ©grer concrÃ¨tement dans ma vie plutÃ´t que de rester sur le plan thÃ©orique.","weights":{"Daat":0.8}},
    {"text":"Je valorise la cohÃ©rence intÃ©rieure et jâ€™harmonise mes idÃ©es contradictoires pour parvenir Ã  une comprÃ©hension unifiÃ©e.","weights":{"Daat":0.8}},
    {"text":"Je fais souvent lâ€™expÃ©rience dâ€™une intuition soudaine qui Ã©claire dâ€™emblÃ©e une situation complexe.","weights":{"Hokhmah":0.8}},
    {"text":"Je reconnais humblement mes limites intellectuelles et reste ouvert(e) aux idÃ©es qui dÃ©passent ma comprÃ©hension.","weights":{"Hokhmah":0.7}},
    {"text":"Je sais rester curieux(se) et ouvert(e) : je ne cherche pas Ã  prouver que jâ€™ai toujours raison, mais jâ€™accueille les enseignements extÃ©rieurs avec humilitÃ©.","weights":{"Hokhmah":0.7}},
    {"text":"Je prends le temps de rÃ©flÃ©chir en profondeur avant de prendre une dÃ©cision importante, faisant preuve de patience.","weights":{"Binah":0.8}},
    {"text":"Je rÃ©flÃ©chis aux dÃ©tails et jâ€™assemble les Ã©lÃ©ments dâ€™une situation pour en saisir lâ€™ensemble.","weights":{"Binah":0.7}},
    {"text":"Je fais preuve dâ€™empathie : jâ€™essaie vraiment de comprendre en profondeur ce que ressentent les autres.","weights":{"Binah":0.8}},
    {"text":"Je me sens poussÃ©(e) Ã  faire le bien mÃªme quand personne ne regarde.","weights":{"Hessed":1.0}},
    {"text":"Jâ€™ai du mal Ã  dire non lorsque lâ€™on me sollicite, mÃªme si je sais que cela va Ã  lâ€™encontre de mes besoins.","weights":{"Hessed":0.8,"Guevoura":0.2}},
    {"text":"Je pardonne facilement les erreurs des autres et essaie toujours de voir leur bon cÃ´tÃ©.","weights":{"Hessed":0.8}},
    {"text":"Je sais dire â€œnonâ€ et imposer des limites claires lorsque câ€™est nÃ©cessaire, sans hÃ©sitation.","weights":{"Guevoura":1.0}},
    {"text":"Je crois quâ€™il faut parfois dÃ©fendre la justice avec fermetÃ©, mÃªme si cela peut blesser ou dÃ©plaire.","weights":{"Guevoura":0.8}},
    {"text":"Je trouve de la force Ã  maintenir lâ€™ordre et la structure pour protÃ©ger ce qui est juste.","weights":{"Guevoura":0.8}},
    {"text":"Jâ€™essaie dâ€™Ã©quilibrer mes Ã©lans de bontÃ© avec mon sens de la justice pour agir avec compassion.","weights":{"Tiferet":0.8}},
    {"text":"Je cherche Ã  rÃ©concilier des points de vue divergents en trouvant un compromis Ã©quitable pour tous.","weights":{"Tiferet":0.7}},
    {"text":"Jâ€™aime apporter de lâ€™harmonie autour de moi en agissant avec empathie, sincÃ©ritÃ© et droiture.","weights":{"Tiferet":0.7}},
    {"text":"Je choisis mes mots avec soin pour Ãªtre clair(e) et je valorise lâ€™honnÃªtetÃ© intellectuelle dans mes Ã©changes.","weights":{"Hod":0.8}},
    {"text":"Je reconnais facilement mes erreurs et jâ€™exprime ma gratitude quand on mâ€™apprend quelque chose de nouveau.","weights":{"Hod":0.7}},
    {"text":"Je fais preuve dâ€™humilitÃ© dans mes opinions et je structure mes idÃ©es avant de les exprimer.","weights":{"Hod":0.7}},
    {"text":"Je persÃ©vÃ¨re dans mes projets jusquâ€™Ã  leur aboutissement, mÃªme si les progrÃ¨s sont lents.","weights":{"Netzach":0.9}},
    {"text":"Je puise en moi la patience et le courage nÃ©cessaires pour surmonter les obstacles.","weights":{"Netzach":0.8}},
    {"text":"Je me sens fier(Ã¨re) lorsque je mÃ¨ne quelque chose Ã  terme grÃ¢ce Ã  ma dÃ©termination constante.","weights":{"Netzach":0.7}},
    {"text":"Je mâ€™efforce de faire correspondre mes actions Ã  mes paroles : lâ€™intÃ©gritÃ© est essentielle pour moi.","weights":{"Yesod":0.8}},
    {"text":"Je bÃ¢tis patiemment mes projets de maniÃ¨re structurÃ©e plutÃ´t que de rÃªver sans les rÃ©aliser.","weights":{"Yesod":0.7}},
    {"text":"Je reste sincÃ¨re et fiable en toutes circonstances, car je crois que câ€™est le fondement de toute relation solide.","weights":{"Yesod":0.7}},
    {"text":"Je ressens la prÃ©sence du divin dans les dÃ©tails de ma vie quotidienne et je cultive un espace de paix chez moi.","weights":{"Malkhout":0.8}},
    {"text":"Jâ€™essaie dâ€™incarner mes idÃ©aux spirituels dans ma vie de tous les jours, en Ã©tant humble et dÃ©vouÃ©(e) dans mes actions.","weights":{"Malkhout":0.7}},
    {"text":"Je trouve du sacrÃ© dans la simplicitÃ© des choses ordinaires et je rends grÃ¢ce pour ce que jâ€™ai.","weights":{"Malkhout":0.7}}
];

// Fonction pour mÃ©langer les questions
function shuffle(array) {
    for (var i = array.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
}

// Construction du questionnaire
function buildQuiz() {
    shuffle(questions);
    var container = document.getElementById("quiz-container");
    // LÃ©gende de l'Ã©chelle (page 1 seulement)
    var legend = document.createElement("p");
    legend.className = "legend";
    legend.textContent = "Rouge foncÃ© = Totalement en dÃ©saccord (-2), Rouge clair = PlutÃ´t pas dâ€™accord (-1), Gris = Neutre (0), Vert clair = PlutÃ´t dâ€™accord (+1), Vert foncÃ© = Totalement dâ€™accord (+2).";
    container.appendChild(legend);
    var qIndex = 1;
    for (var p = 1; p <= 5; p++) {
        var pageDiv = document.createElement("div");
        pageDiv.className = "page";
        pageDiv.id = "page-" + p;
        // Questions par page
        for (var k = 0; k < 6; k++) {
            var q = questions[(p-1)*6 + k];
            if (!q) break;
            var qDiv = document.createElement("div");
            qDiv.className = "question";
            var pQ = document.createElement("p");
            pQ.textContent = qIndex + ". " + q.text;
            qDiv.appendChild(pQ);
            // Options
            var optDiv = document.createElement("div");
            optDiv.className = "options";
            var values = [
                {val:-2, cls:"dark-red", label:"Totalement en dÃ©saccord"},
                {val:-1, cls:"light-red", label:"PlutÃ´t pas dâ€™accord"},
                {val:0, cls:"neutral", label:"Neutre"},
                {val:1, cls:"light-green", label:"PlutÃ´t dâ€™accord"},
                {val:2, cls:"dark-green", label:"Totalement dâ€™accord"}
            ];
            for (var i = 0; i < values.length; i++) {
                var lbl = document.createElement("label");
                var radio = document.createElement("input");
                radio.type = "radio";
                radio.name = "q" + qIndex;
                radio.value = values[i].val;
                var span = document.createElement("span");
                span.className = "circle " + values[i].cls;
                span.title = values[i].label;
                lbl.appendChild(radio);
                lbl.appendChild(span);
                optDiv.appendChild(lbl);
            }
            qDiv.appendChild(optDiv);
            pageDiv.appendChild(qDiv);
            qIndex++;
        }
        // Navigation
        var navDiv = document.createElement("div");
        navDiv.className = "navigation";
        if (p > 1) {
            var prevBtn = document.createElement("button");
            prevBtn.textContent = "Page prÃ©cÃ©dente";
            prevBtn.onclick = prevPage;
            navDiv.appendChild(prevBtn);
        }
        if (p < 5) {
            var nextBtn = document.createElement("button");
            nextBtn.textContent = "Page suivante";
            nextBtn.onclick = nextPage;
            navDiv.appendChild(nextBtn);
        }
        if (p == 5) {
            var analyseBtn = document.createElement("button");
            analyseBtn.textContent = "Analyser";
            analyseBtn.onclick = analyse;
            navDiv.appendChild(analyseBtn);
        }
        pageDiv.appendChild(navDiv);
        container.appendChild(pageDiv);
    }
    // Afficher la premiÃ¨re page
    showPage(1);
}

// Affichage des pages
var currentPage = 1;
function showPage(n) {
    var pages = document.getElementsByClassName("page");
    for (var i = 0; i < pages.length; i++) {
        pages[i].classList.remove("active");
    }
    var page = document.getElementById("page-" + n);
    if (page) {
        page.classList.add("active");
        currentPage = n;
    }
}

// Changer de page
function nextPage() { showPage(currentPage + 1); }
function prevPage() { showPage(currentPage - 1); }

// Calcul et analyse des rÃ©sultats
function analyse() {
    var sephirot = {
        "Daat": 0, "Hokhmah": 0, "Binah": 0,
        "Hessed": 0, "Guevoura": 0, "Tiferet": 0,
        "Hod": 0, "Netzach": 0, "Yesod": 0, "Malkhout": 0
    };
    // Parcourir les rÃ©ponses
    for (var i = 1; i <= questions.length; i++) {
        var radios = document.getElementsByName("q" + i);
        var val = null;
        for (var r = 0; r < radios.length; r++) {
            if (radios[r].checked) {
                val = parseInt(radios[r].value);
                break;
            }
        }
        if (val === null) {
            val = 0; // si non rÃ©pondu, on considÃ¨re neutre
        }
        // Ajouter pondÃ©rations
        var weights = questions[i-1].weights;
        for (var s in weights) {
            if (weights.hasOwnProperty(s)) {
                sephirot[s] += weights[s] * val;
            }
        }
    }
    // Trier par score dÃ©croissant
    var sorted = Object.keys(sephirot).sort(function(a, b) {
        return sephirot[b] - sephirot[a];
    });
    // Afficher rÃ©sultats
    var resultText = "SÃ©phira dominante : " + sorted[0] +
                     " ; suivantes : " + sorted[1] + " et " + sorted[2] + ".";
    alert(resultText);
}

document.addEventListener("DOMContentLoaded", buildQuiz);
</script>



</body>
</html>

